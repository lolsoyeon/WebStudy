<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test024_2.html</title>

<style type="text/css">
input {
	font-family: 나눔고딕코딩;
	font-weight: bold;
}

input:focus {
	background-color: #eeeedd;
}

input.btn {
	font-weight: bold;
	font-family: 맑은 고딕;
}

.txt {
	text-align: right;
}

.btn {
	width: 150px;
	font-weight: bold;
}

.btn:hover {
	color: orange;
}

table {
	border: "1";
	font-weight: bold;
}

td {
	background-color: #ccc;
	text-align: center;
}

tr {
	border: "1";
}

th {
	width: 30px;
}

textarea {
	font-family: 나눔고딕코딩;
	font-weight: bold;
}

.txt {
	text-align: center;
	width: 70px;
}
</style>

<script type="text/javascript">


	function actionCalendar1()
	{
	   
	   var tbl = document.getElementById("calendarTbl");
	   var year = Number(document.getElementById("txtYear").value);
	   var month = Number(document.getElementById("txtMonth").value);
	   
	   var m = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
	   
	   var nalsu = parseInt(365*(year-1) + (year-1)/4 - (year-1)/100 + (year-1)/400);
	   nalsu += 1;
	   
	   if (year%4==0 && year%100!=0 || year%400==0)
	   {
	      m[1] = 29;
	   }
	   
	   for (var i = 0; i < month-1; i++)
	   {
	      nalsu += m[i];
	   }
	   
	   var trNode = document.createElement("tr");
	   
	   for (var i = 0; i < m[month-1]; i++)
	   {
	      if(i == (nalsu%7))
	      {
	         trNode.appendChild(createNode("1"));
	         if(i == 6)
	         {
	            tbl.appendChild(trNode);
	            var trNode = document.createElement("tr"); 
	         }
	         break;
	      }
	      trNode.appendChild(createNode(" "));
	   }
	   for (var i = 2; i <= m[month-1]; i++)
	   {
	      trNode.appendChild(createNode(i));
	      
	      if (((nalsu%7) + Number(i))%7 == 0)
	      {
	         tbl.appendChild(trNode);
	         var trNode = document.createElement("tr"); 
	      }
	   }
	   
	   tbl.appendChild(trNode);
	}
	
	function createTdNode(val)
	{
	   var textNode = document.createTextNode(val);
	   var tdNode = document.createElement("td");
	   tdNode.appendChild(textNode);
	   
	   return tdNode;
	}

	   

</script>



</head>
<body>

	<!-- 
 	만년달력 페이지를 구성한다.
 	테이블의 동적 생성 구문을 활용한다.
 	
 	1단계. 1년 1월 1일부터 전년도 12월 31일 까지의 총 날짜수 구함
 	2단계. 해당년 1월 1일부터 해달년 해당월 1일 까지의 총 날짜수 구함
 	3단계. 해당년 해당월의 첫날의 요일을 구함
 	4단계. 해당년 해당월의 마지막 날짜를 구함
 	5단계. 해당년 해당월 기준 달력 구성  
 -->



	<div>
		<h1>테이블 동적 생성으로 만년달력 그리기</h1>
		<hr>
	</div>

	<div>
		<form>
			<input type="text" id="txtYear" class="txt"> 년 <input
				type="text" id="txtMonth" class="txt"> 월 <br> <br>

			<button type="button" class="btn" onclick="actionCalendar1()">만년달력
				그리기</button>
			<br> <br>

			<table border="1" id="calenderTbl">
				<tr>
					<th>일</th>
					<th>월</th>
					<th>화</th>
					<th>수</th>
					<th>목</th>
					<th>금</th>
					<th>토</th>
				</tr>
			</table>
		</form>
	</div>

</body>
</html>